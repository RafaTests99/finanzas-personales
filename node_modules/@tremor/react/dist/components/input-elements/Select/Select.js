'use client';
import{__rest as e}from"tslib";import r,{useMemo as t,isValidElement as a}from"react";import o from"../../../assets/ArrowDownHeadIcon.js";import l from"../../../assets/XCircleIcon.js";import{tremorTwMerge as n}from"../../../lib/tremorTwMerge.js";import{makeClassName as s}from"../../../lib/utils.js";import{constructValueToNameMapping as d,getSelectButtonColors as m,hasValue as c}from"../selectUtils.js";import{Listbox as i,Transition as u}from"@headlessui/react";import b from"../../../hooks/useInternalState.js";const f=s("Select"),p=r.forwardRef(((s,p)=>{const{defaultValue:k,value:w,onValueChange:h,placeholder:x="Select...",disabled:y=!1,icon:g,enableClear:v=!0,children:N,className:E}=s,C=e(s,["defaultValue","value","onValueChange","placeholder","disabled","icon","enableClear","children","className"]),[j,I]=b(k,w),V=g,S=t((()=>{const e=r.Children.toArray(N).filter(a);return d(e)}),[N]);return r.createElement(i,Object.assign({as:"div",ref:p,defaultValue:j,value:j,onChange:e=>{null==h||h(e),I(e)},disabled:y,className:n("w-full min-w-[10rem] relative text-tremor-default",E)},C),(({value:e})=>{var t;return r.createElement(r.Fragment,null,r.createElement(i.Button,{className:n("w-full outline-none text-left whitespace-nowrap truncate rounded-tremor-default focus:ring-2 transition duration-100 border pr-8 py-2","border-tremor-border shadow-tremor-input focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:border-dark-tremor-border dark:shadow-dark-tremor-input dark:focus:border-dark-tremor-brand-subtle dark:focus:ring-dark-tremor-brand-muted",V?"pl-10":"pl-3",m(c(e),y))},V&&r.createElement("span",{className:n("absolute inset-y-0 left-0 flex items-center ml-px pl-2.5")},r.createElement(V,{className:n(f("Icon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})),r.createElement("span",{className:"w-[90%] block truncate"},e&&null!==(t=S.get(e))&&void 0!==t?t:x),r.createElement("span",{className:n("absolute inset-y-0 right-0 flex items-center mr-3")},r.createElement(o,{className:n(f("arrowDownIcon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}))),v&&j?r.createElement("button",{type:"button",className:n("absolute inset-y-0 right-0 flex items-center mr-8"),onClick:e=>{e.preventDefault(),I(""),null==h||h("")}},r.createElement(l,{className:n(f("clearIcon"),"flex-none h-4 w-4","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})):null,r.createElement(u,{className:"absolute z-10 w-full",enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},r.createElement(i.Options,{className:n("divide-y overflow-y-auto outline-none rounded-tremor-default max-h-[228px] left-0 border my-1","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown")},N)))}))}));p.displayName="Select";export{p as default};
